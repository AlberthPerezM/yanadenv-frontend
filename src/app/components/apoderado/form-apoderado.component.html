<div class="card border-0 shadow-lg">

  <div class="card-header text-white card-header-azul fw-bold">
    {{ titulo }}
  </div>
  <ul class="nav nav-tabs mb-4 justify-content-center border-bottom">
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/participantes/form', apoderado.participante?.idPar]"
        routerLinkActive="active" #rlaParticipante="routerLinkActive" [class.disabled]="rlaParticipante.isActive"
        (click)="rlaParticipante.isActive && $event.preventDefault()">
        Participante
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/examenes/form', apoderado.participante?.idPar]" routerLinkActive="active"
        #rlaExamenes="routerLinkActive" [class.disabled]="rlaExamenes.isActive"
        (click)="rlaExamenes.isActive && $event.preventDefault()">
        Exámenes
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link" [routerLink]="['/datoclinicos/form', apoderado.participante?.idPar]" routerLinkActive="active"
        #rlaDatosClinicos="routerLinkActive" [class.disabled]="rlaDatosClinicos.isActive"
        (click)="rlaDatosClinicos.isActive && $event.preventDefault()">
        Datos clínicos
      </a>
    </li>
  </ul>
  <div class="card-body d-flex justify-content-center">
    <form class="row g-4 px-3" style="max-width: 800px; width: 100%;">
      <!-- Encargado de -->
      <div class="col-md-6">
        <label for="nivel" class="form-label">Encargado de :</label>
        <select [compareWith]="compararParticipante" class="form-select" [(ngModel)]="apoderado.participante"
          name="nivel" [disabled]="true">
          <option [ngValue]="undefined">--- Seleccionar ---</option>
          <option *ngFor="let participante of participantes" [ngValue]="participante">
            {{ participante.nombre + ' ' + participante.apellidoPaterno + ' ' + participante.apellidoMaterno }}
          </option>
        </select>
      </div>

      <div class="col-md-6">
        <label for="nombre" class="form-label">Nombre</label>
        <input type="text" class="form-control" [(ngModel)]="apoderado.nombre" name="nombre" />
      </div>

      <!-- Apellido Paterno -->
      <div class="col-md-6">
        <label for="apellidoPaterno" class="form-label">Apellido Paterno</label>
        <input type="text" class="form-control" [(ngModel)]="apoderado.apellidoPaterno" name="apellidoPaterno" />
      </div>

      <!-- Apellido Materno -->
      <div class="col-md-6">
        <label for="apellidoMaterno" class="form-label">Apellido Materno</label>
        <input type="text" class="form-control" [(ngModel)]="apoderado.apellidoMaterno" name="apellidoMaterno" />
      </div>

      <!-- Sexo -->
      <div class="col-md-6">
        <label for="sexo" class="form-label">Sexo</label>
        <select class="form-select" [(ngModel)]="apoderado.sexo" name="sexo">
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
        </select>
      </div>

      <!-- Tipo de Documento -->
      <div class="col-md-6">
        <label for="tipoDocumento" class="form-label">Tipo de Documento</label>
        <select class="form-select" [(ngModel)]="apoderado.tipoDocumento" name="tipoDocumento">
          <option value="DNI">DNI</option>
          <option value="Carnet de Extranjería">Carnet de Extranjería</option>
        </select>
      </div>

      <!-- Número de Documento -->
      <div class="col-md-6">
        <label for="numeroDocumento" class="form-label">Número de Documento</label>
        <input type="text" class="form-control" [(ngModel)]="apoderado.numeroDocumento" name="numeroDocumento" />
      </div>

      <!-- Edad -->
      <div class="col-md-6">
        <label for="edad" class="form-label">Edad</label>
        <input type="number" class="form-control" [(ngModel)]="apoderado.edad" name="edad" />
      </div>

      <!-- Botón Guardar -->
      <div class="col-12 d-flex justify-content-center mt-4">
        <button type="button" [ngStyle]="{ 'background-color': '#090977', 'border': 'none' }"
          class="btn btn-success me-2" (click)="create()" *ngIf="!apoderado.idApo; else elseBlock">
          Guardar
        </button>
        <ng-template #elseBlock>
          <button type="button" [ngStyle]="{ 'background-color': '#090977', 'border': 'none' }"
            class="btn btn-primary me-2" (click)="update()">
            Editar
          </button>
        </ng-template>

      </div>

    </form>
  </div>